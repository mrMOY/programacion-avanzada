<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/vue@3"></script>
</head>
<body>
    <div id="contenedor">
        
        <form  >
            <fieldset>
                <legend >ACCESO AL PANEL</legend>


                <legend >CORREO</legend>
                <input type="email" v-model="email">
                <legend>PASSWORD</legend>
                <input Type="password" v-model="password"> <br>

                <button @click="login" > ACCEDER</button>
            </fieldset>
        </form>
    </div>
    <script type="text/javascript">
        

        const {createApp} = Vue;
        const data = null;
        const error = null;

        const app = createApp({
          data() {
            return {
                users: [],
                email: '',
                password:''
            }
          },
          methods:{

            login(e){
                console.log("asd");
                e.preventDefault();

                var access = this.users.map((u)  => {
                 
                    console.log("0")
                    if (this.email === u.email.toLowerCase()) {
                        console.log('sc')
                        if (this.password === u.password.toLowerCase()) {
                            console.log("2")
                            alert("acceso correcto")
                            return true;
                        }
                    
                    }
                    
                    })
                console.log(access)
            }

          },
          mounted(){
            fetch ('users.json')
                .then((res) => res.json())
                .then((json) => (this.users = json))
                .catch ((err)=> (console.log(err)))
             }

        }).mount('#contenedor')
    </script>
</body>
</html>